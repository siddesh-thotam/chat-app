{% extends "account/base_entrance.html" %}
{% load i18n %}
{% load allauth account %}
{% block head_title %}
    {% trans "Login" %}
{% endblock head_title %}
{% block content %}
    <h1>Login</h1>
    <p>
        If you have not created an account yet, then please
    <a href="{% url 'account_signup' %}?next={% url 'profile-onboarding' %}">sign up</a> first.
    </p>

    <div class="flex flex-col space-y-4">   {# ensures vertical spacing #}
        {% url 'account_login' as login_url %}
        {% element form form=form method="post" action=login_url tags="entrance,login" %}
            {% slot body %}
                {% csrf_token %}
                {% element fields form=form unlabeled=True %}
                {% endelement %}
                {% if redirect_field_value %}
                    <input type="hidden"
                        name="{{ redirect_field_name }}"
                        value="{{ redirect_field_value }}" />
                {% endif %}
            {% endslot %}
            {% slot actions %}
                {% element button type="submit" tags="prominent,login" %}
                    {% trans "Sign In" %}
                {% endelement %}
            {% endslot %}
        {% endelement %}

        {% if SOCIALACCOUNT_ENABLED %}
            {% load socialaccount %}
            <div class="flex flex-col space-y-4">
            <!-- Google (existing) -->
            <a href="{% provider_login_url 'google' next='/profile/settings/' %}"
                class="flex items-center justify-center gap-2 w-full px-4 py-2 rounded-lg bg-white text-gray-700 border border-gray-300">
                <img src="https://developers.google.com/identity/images/g-logo.png" class="w-5 h-5 bg-white rounded-full p-0.5">
                <span>Sign in with Google</span>
            </a>

            <!-- GitHub -->
            <a href="{% provider_login_url 'github' next='/profile/settings/' %}"
                class="flex items-center justify-center gap-2 w-full px-4 py-2 rounded-lg bg-gray-900 text-white">
                <!-- GitHub svg icon -->
                <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 .5C5.65.5.5 5.65.5 12c0 5.1 3.3 9.4 7.9 10.9.6.1.8-.3.8-.6v-2c-3.2.7-3.9-1.5-3.9-1.5-.5-1.2-1.2-1.5-1.2-1.5-1-.7.1-.7.1-.7 1.1.1 1.6 1.1 1.6 1.1 1 .1.8 1.7 2.6 1.2.1-.7.4-1.1.7-1.3-2.6-.3-5.4-1.3-5.4-5.7 0-1.2.4-2.1 1.1-2.9-.1-.3-.5-1.4.1-2.9 0 0 .9-.3 2.9 1.1a10 10 0 0 1 5.2 0c2-1.4 2.9-1.1 2.9-1.1.6 1.5.2 2.6.1 2.9.7.8 1.1 1.7 1.1 2.9 0 4.4-2.8 5.4-5.4 5.7.4.3.8.9.8 1.9v2.9c0 .3.2.7.8.6a10.9 10.9 0 0 0 7.9-10.9C23.5 5.65 18.35.5 12 .5Z"/>
                </svg>
                <span>Continue with GitHub</span>
            </a>
            </div>

        {% endif %}
    </div>
{% endblock content %}
